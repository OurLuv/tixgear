/**  _____ _       ______     ______ ____             _   ____  _             
 *  |_   _(_)_  __/ ___\ \   / / ___/ ___|  ___  __ _| |_|  _ \| | __ _ _ __  
 *    | | | \ \/ /\___ \\ \ / / |  _\___ \ / _ \/ _` | __| |_) | |/ _` | '_ \ 
 *    | | | |>  <  ___) |\ V /| |_| |___) |  __/ (_| | |_|  __/| | (_| | | | |
 *    |_| |_/_/\_\|____/  \_/  \____|____/ \___|\__,_|\__|_|   |_|\__,_|_| |_|
 */
(function(){var a,b,c,d,e,f,g,h,i,j;b=window.device,a={},window.device=a,d=window.document.documentElement,j=window.navigator.userAgent.toLowerCase(),a.ios=function(){return a.iphone()||a.ipod()||a.ipad()},a.iphone=function(){return!a.windows()&&e("iphone")},a.ipod=function(){return e("ipod")},a.ipad=function(){return e("ipad")},a.android=function(){return!a.windows()&&e("android")},a.androidPhone=function(){return a.android()&&e("mobile")},a.androidTablet=function(){return a.android()&&!e("mobile")},a.blackberry=function(){return e("blackberry")||e("bb10")||e("rim")},a.blackberryPhone=function(){return a.blackberry()&&!e("tablet")},a.blackberryTablet=function(){return a.blackberry()&&e("tablet")},a.windows=function(){return e("windows")},a.windowsPhone=function(){return a.windows()&&e("phone")},a.windowsTablet=function(){return a.windows()&&e("touch")&&!a.windowsPhone()},a.fxos=function(){return(e("(mobile;")||e("(tablet;"))&&e("; rv:")},a.fxosPhone=function(){return a.fxos()&&e("mobile")},a.fxosTablet=function(){return a.fxos()&&e("tablet")},a.meego=function(){return e("meego")},a.cordova=function(){return window.cordova&&"file:"===location.protocol},a.nodeWebkit=function(){return"object"==typeof window.process},a.mobile=function(){return a.androidPhone()||a.iphone()||a.ipod()||a.windowsPhone()||a.blackberryPhone()||a.fxosPhone()||a.meego()},a.tablet=function(){return a.ipad()||a.androidTablet()||a.blackberryTablet()||a.windowsTablet()||a.fxosTablet()},a.desktop=function(){return!a.tablet()&&!a.mobile()},a.television=function(){var a;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],a=0;a<television.length;){if(e(television[a]))return!0;a++}return!1},a.portrait=function(){return window.innerHeight/window.innerWidth>1},a.landscape=function(){return window.innerHeight/window.innerWidth<1},a.noConflict=function(){return window.device=b,this},e=function(a){return-1!==j.indexOf(a)},g=function(a){var b;return b=new RegExp(a,"i"),d.className.match(b)},c=function(a){var b=null;g(a)||(b=d.className.replace(/^\s+|\s+$/g,""),d.className=b+" "+a)},i=function(a){g(a)&&(d.className=d.className.replace(" "+a,""))},a.ios()?a.ipad()?c("ios ipad tablet"):a.iphone()?c("ios iphone mobile"):a.ipod()&&c("ios ipod mobile"):a.android()?c(a.androidTablet()?"android tablet":"android mobile"):a.blackberry()?c(a.blackberryTablet()?"blackberry tablet":"blackberry mobile"):a.windows()?c(a.windowsTablet()?"windows tablet":a.windowsPhone()?"windows mobile":"desktop"):a.fxos()?c(a.fxosTablet()?"fxos tablet":"fxos mobile"):a.meego()?c("meego mobile"):a.nodeWebkit()?c("node-webkit"):a.television()?c("television"):a.desktop()&&c("desktop"),a.cordova()&&c("cordova"),f=function(){a.landscape()?(i("portrait"),c("landscape")):(i("landscape"),c("portrait"))},h=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(h,f,!1):window.attachEvent?window.attachEvent(h,f):window[h]=f,f(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:window.device=a}).call(this);
"use strict";Element.prototype.appendBefore=function(t){t.parentNode.insertBefore(this,t)},Element.prototype.appendAfter=function(t){t.parentNode.insertBefore(this,t.nextSibling)};const SVGSeatPlan={js:{},jq:{},fn:{},vr:{}};!function(o){const{js:i,fn:a,vr:c}=SVGSeatPlan;function e(t){return null!=t&&"object"==typeof t}function r(){var t=c.pz.getTransform();return i.scheme.getAttribute("viewBox").split(" "),{cx:t.x+i.scheme.clientWidth*t.scale/2,cy:t.y+i.scheme.clientHeight*t.scale/2}}const l=function(r,n=0){let t=r.parentNode;if("g"===t.tagName){let e=t.getAttribute("transform");if(e){let t;var o;(t=e.match(/rotate\((.*?)\)/))&&(n+=+t[1].split(",")[0]),(t=e.match(/matrix\((.*?)\)/))&&(o=t[1].split(","),r=u(o),o[0]==o[3]&&o[1]==-o[2]?n+=r.rotate:n+=180-r.skewY)}n=l(t,n)}return n},f=function(t,r=1,n=1){let o=t.parentNode;if("g"===o.tagName){let e=o.getAttribute("transform");if(e){let t;var s;(t=e.match(/scale\((.*?)\)/))&&(r*=+(s=t[1].split(","))[0],n*=+s[1]),(t=e.match(/scaleX\((.*?)\)/))&&(r*=+m[0]),(t=e.match(/scaleY\((.*?)\)/))&&(n*=+m[1]),(t=e.match(/matrix\((.*?)\)/))&&(s=t[1].split(","),r*=+(s=u(s)).scaleX,n*=+s.scaleY)}var{}=f(o,r,n)}return{scaleX:r,scaleY:n}},u=function(e){for(let t=0;t<e.length;t++)e[t]=+e[t];var t=function(t,e){return{x:e.x*t[0]+e.y*t[2],y:e.x*t[1]+e.y*t[3]}},r=t(e,{x:0,y:1}),t=t(e,{x:1,y:0}),r=n(Math.atan2(r.y,r.x))-90,t=n(Math.atan2(t.y,t.x));return{translateX:e[4],translateY:e[5],scaleX:Math.sqrt(e[0]*e[0]+e[1]*e[1]),scaleY:Math.sqrt(e[2]*e[2]+e[3]*e[3]),skewX:r,skewY:t,rotate:r}},n=function(t){return 180*t/Math.PI};function h(t,e,r){return+t+e*r/130}function v(t,e,r){return+t+e*r/130}function d(t,e){return t.join(e)}function p(t){return!!e(t)&&("function"==typeof t.getAttribute&&"circle"===t.tagName)}function g(e,r){if(!p(e))return!1;let n={};for(var o in r){let t=r[o];n[t.replace(":","_",t)]=e.getAttribute(t)}return n}function b(){i.scheme.querySelectorAll(".hover").forEach(t=>t.classList.remove("hover")),delete c.hoverId,i.scheme.dispatchEvent(new CustomEvent("unhover.SVGSeatPlan"))}a.trigger=function(t,e){var r;t.fireEvent?t.fireEvent("on"+e):((r=document.createEvent("Events")).initEvent(e,!0,!1),t.dispatchEvent(r))},a.getCategoryInfo=function(t,e=[]){if(!p(t))return!1;let r={},n=i.scheme.querySelector('sbt\\:category[sbt\\:class="cat'+t.getAttribute("sbt:cat")+'"]');for(var o in e){let t=e[o];r[t.replace(":","_",t)]=n.getAttribute(t)}return r},a.getTarriffsInfo=function(t,o=[]){if(!p(t))return!1;let s=[],e=i.scheme.querySelector('sbt\\:category[sbt\\:class="cat'+t.getAttribute("sbt:cat")+'"]'),r=e.querySelectorAll("sbt\\:tariff");return!!r.length&&(r.forEach(function(e){let r={};for(var n in o){let t=o[n];r[t.replace(":","_",t)]=e.getAttribute(t)}s.push(r)}),s)},a.end=function(){e(c.pz)&&c.pz.dispose()},a.init=function(r){if(e(r)){i.scheme=r,i.scheme.querySelectorAll("title").forEach(t=>t.remove()),i.scheme.querySelectorAll("style").forEach(function(t){let e=t.innerHTML;e=e.replace(/\n?\.st+[1?2?3?4?5].*\}/gi,""),t.innerHTML=e});var n=i.scheme.querySelectorAll('[sbt\\:state="2"][sbt\\:owner="yes"]');for(let t=0;t<n.length;t++)a.marking(n[t]);let t=20;var o=i.scheme.querySelector('circle:not([r="0"])'),s=g(o,["r"]);s&&({r:r}=s,s=i.scheme.getAttribute("viewBox").split(" "),t=s[2]/(r*f(o).scaleX)/(i.scheme.getAttribute("width")/30),t<2&&(t=2)),c.pz=panzoom(i.scheme,{minZoom:1,maxZoom:t,filterKey:function(){return!0},removeDoubleClick:function(t){return!1},bounds:!0,boundsPadding:1,autocenter:!0,smoothScroll:!1}),c.pz.on("transform",function(t){var e,r;b(),r=(e=t).getTransform().scale,t=100/Math.log2(e.getMaxZoom())*Math.log2(r),i.scheme.dispatchEvent(new CustomEvent("transform.SVGSeatPlan",{detail:{max:!(r+.1>=e.getMaxZoom()),min:!(r-.1<=e.getMinZoom()),percent:t,scale:Math.round(r)}}))});let e={x:c.pz.getTransform().x,y:c.pz.getTransform().y};i.scheme.addEventListener("click",function(t){t.isTrusted&&(e.x!=c.pz.getTransform().x||e.y!=c.pz.getTransform().y)||a.click(t)}),device.mobile()?new Hammer(i.scheme).on("tap",function(t){a.hover(t)}):device.desktop()&&(i.scheme.addEventListener("mousedown",function(t){e.x=c.pz.getTransform().x,e.y=c.pz.getTransform().y}),i.scheme.addEventListener("mousemove",function(t){a.hover(t)}))}},a.zoomIn=function(){b();var{cx:t,cy:e}=r();c.pz.zoomTo(t,e,2)},a.zoomOut=function(){b();var{cx:t,cy:e}=r();c.pz.zoomTo(t,e,.5)},a.zoomReset=function(){b(),c.pz.zoomTo(0,0,-1)},a.isFrozen=function(t){let e;return!!(e=g(t))&&t.classList.contains("frozen")},a.hover=function(t){let e=t.target;var r=g(e,["id","sbt:state","sbt:owner","cx","cy","r"]);if(r){var{id:n,sbt_state:o,sbt_owner:r}=r;if(!a.isFrozen(e)&&(1==o||2==o&&r))return void 0!==c.hoverId&&c.hoverId==n||(c.hoverId=n,e.classList.add("hover"),i.scheme.dispatchEvent(new CustomEvent("hover.SVGSeatPlan",{detail:{e:t,circle:e}}))),!0}return b(),!1},a.click=function(t){b();let r=t.target;if("path"===r.tagName){let e=r.getAttribute("id");if(void 0!==e){let t;if((t=e.match(/path-(.*?)-v/))&&(r=r.previousElementSibling,void 0!==r&&r.getAttribute("id")!=t[1]))return!1}}if("circle"!==r.tagName)return!1;if(a.isFrozen(r))return!1;var e=g(r,["sbt:id","sbt:state","sbt:owner","tariff"]);if(!e)return!1;var{sbt_state:n,sbt_owner:o,tariff:t}=e;if(1!=n&&2!=n)return!1;if(2==n&&!o)return!1;o=a.getTarriffsInfo(r,["sbt:id"]);if(1==n&&o&&!t)return!1;i.scheme.dispatchEvent(new CustomEvent("click.SVGSeatPlan",{detail:{seat:e,circle:r}}))},a.loading=function(t){var e=g(t,["r","sbt:state"]);if(!e)return!1;var{r:r,sbt_state:n}=e,e=o(t).css("fill");!function(t){let e;(e=g(t))&&t.classList.add("frozen")}(t),o(t).attr("style","stroke:"+e+" !important;fill:"+e+" !important"),o(t).css({"stroke-width":r/3.33+"px","stroke-dasharray":6.2*r+"px","stroke-dashoffset":(1==n?1:-1)*r*6.2+"px"}),o(t).animate({"stroke-dashoffset":[0,"linear"]},2e4)},a.endLoading=function(t,e){if(!g(t))return!1;var r=o(t).css("fill");o(t).stop().animate({"stroke-dashoffset":[0,"linear"]},300,function(){o(t).attr("style","fill: "+r+" !important"),function(t){let e;(e=g(t))&&t.classList.remove("frozen")}(t),"function"==typeof e&&e()})},a.marking=function(t){var e=g(t,["classes","id","cx","cy","r"]);if(!e)return!1;let{cx:r,cy:n,r:o}=e,s=2*o,i="rotate("+[-l(t),r,n].join(",")+")";t.setAttribute("sbt:state","2"),t.setAttribute("sbt:owner","yes"),t.classList.add("st4");let a=document.createElementNS("http://www.w3.org/2000/svg","path");a.classList.add("st5"),a.setAttribute("d",d([d(["M",d([h(r,s,-47.7),v(n,s,-43.3)],",")],""),d([h(r,s,0),v(n,s,4.4)],","),d([h(r,s,47.7),v(n,s,-43.3)],","),d([h(r,s,67.1),v(n,s,-24.7)],","),d([h(r,s,0),v(n,s,43.3)],","),d([h(r,s,-67.1),v(n,s,-24.8)],","),d([d([h(r,s,-47.7),v(n,s,-43.3)],","),"z"],"")]," ")),a.setAttribute("transform",i),a.appendBefore(t)},a.unMarking=function(t){if(!g(t))return!1;t.setAttribute("sbt:state","1"),t.removeAttribute("sbt:owner"),t.classList.remove("st4");let e=t.previousElementSibling;e&&"path"===e.tagName&&e.classList.contains("st5")&&e.remove()}}(jQuery);
